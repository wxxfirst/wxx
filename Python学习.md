#                                      Python学习[^1]

[^1]:（代码编写等程序与软件安装等知识点省略（此类需实践为主，个人无为此类做笔记的习惯），数据类型强制转化等知识点贯穿其中）

### 一、缩进：在Python中，以缩进4个空格表示层级关系

==易错点：嵌套语句中容易出错==

例：

```python
i=0                                           
num=1                                          
while i<3:
    num=num+i                            
    i+=1                                         
print(num)                                     
```



### 二、输入与输出语句

##### （1）输入语句：

语法：input()

==输入的数据默认为字符串类型==，且在“（）”内可以输入一些提示语（以字符串的形式）

##### （2）输出语句：

语法：print()

==输出语句默认换行，在”（）“输出内容末尾加上end=‘ ’以表示不换行==

格式化输出：

+ 按数字类型分类（会在数字类型中详细描述）
	+ 形式：print（“%d”%(变量名）)（举例）

+ 快速格式化输出
  + 形式：print（f“输出内容{需要输出的变量的名字}……”）

```python
name=input("请问你的姓名是：")
print(name，end='')
print("很高兴认识你！")
print(name*100)
print(f"我的名字是{name}")
```

三、基础知识——变量定义与赋值，标识符规则，运算符

##### （1）变量

+ 意义：变量是数据的载体，可以进行相应的数据处理
+ 定义：变量名=变量值
+ 分类——作用域不同
	+ 局部变量——global关键字可以在函数内声明==全局变量==为==局部变量==
		+ global 变量名
		+ 变量名=赋值

	+ 全局变量


##### （2）标识符规则[^2]

+ 内容规定——英文、中文==（不推荐）==、数字==（不可用在开头）==、__
+ 字母大小写表示意义不同
+ 不可使用关键字

[^2]:变量、类、方法等的命名尽可能浅显易懂、易于区分

##### （3）运算符——类型相同

+ 算术运算符
	+ +
	+ -
	+ *
		+ 在print（）语句中欲重复输出且不换行可以使用——print（目标输出内容*循环次数）
	+ /（除法）
	+ //（整除）
	+ %
	+ **（指数运算）
+ 赋值运算符
	+ =
+ 复合运算符（举例）
	+ +=
	+ -=
+ 比较运算符[^3]
  + ==
  + ！=
  + /  >
  + /  < 
  + /   <=
  + /    >=

[^3]:”/“表示解除作用

```python
num=200
def my_num():
global num
num=100
print(num)
my_num()
print(num)
```



### 四、数字类型

##### （1）int（整数）类型

+ 强制类型转化：int（x，base=？）

x——需要强制类型转化的数据

？——需要强制类型转化数据的进制数（默认为十进制）

==float型进行强制类型转化成int型会造成数据丢失，string型转化为int型要求内容必须包含数字==

+ 格式化输出：%d
	+ 控制数字宽度——%md（m表示控制的数据宽度，其中当m小于数字宽度时不起作用，左右对齐，正号表示右移，负号表示左移）

```python
num=int(input(),base=16)
my_float=98.765
my_float=int(my_float)
print(num，my_float)
print("%d"%(num))
print("%4d"%(num))
print("%-4d"%(num))
```

##### （2）float（小数）类型

+ 强制类型转化：float（）
+ 格式化输出：%f
	+ 控制数字的宽度与精度——%m.nf（n表示控制的小数点后几位数，==小数点与小数部分包含在数据宽度控制中==）

```python
num=10
num=float(num)
my_float=67.78648678467568275
print(num)
print("%6.3f"%(my_float))
```

##### （3）complex（复数）类型

+ 语法：a+bj
	+ a——表示实数部分
	+ b——表示虚数部分

+ 强制类型转化：complex（,）

```python
my_complex=3+8j
print(my_complex)
```

##### （4）bool（布尔）类型——int的子类

+ True——1，逻辑为真
+ False——0，逻辑为假
+ 适用场景：判断类

```python
my_bool=True
print(my_bool)
my_bool=False
print(my_bool)
```

### 五、数据结构

##### （1）字符串（string）——仅支持字符，长度不限，有序排列，支持重复数据，但不可修改

修改后的字符串实际就是一个==新的字符串==

+ 定义
	+ 变量名=‘    ’
	+ 变量名=”     “
	+ 变量名=”“”        “”“

转移字符/可以解除引号作用，使引号成为普通字符串

```python
str1='wenxinxin'
str2="wenxinxin"
str3="""wenxinxin"""
str4="'/wenxinxin'/"
```

+ 强制类型转化：str（）

	+ 所有类型都能转化成字符串类型

```python
str5=str(8)
```

+ 格式化输出：%s

```python
print("%s"%(str1))
print("%s"%(str2))
print("%s"%(str3))
print("%s"%(str4))
print("%s"%(str5))
```

字符串拼接：str1+str2+……

+ ```
  str1="I love "
  str2="China!"
  str3=str1+str2
  ```
  
  字符串相关方法
  
  + 下标索引==（不可以越界访问）==——变量名.index(目标元素)——正==（从0开始，逐步+1）==、反==（从-1开始，逐步-1）==向之分
  
  	+ 成功找到元素，返回下标值
  	+ 失败返回ValueError

  ```python
  my_srt="I love China!"
  num=my_str.index("l")
  ```
  
  + 取用某下标的值——变量名=-变量名[某下标]——==匹配的第一项==
  
  ```python
  letter=my_str[3]
  letter_new=my_str[-5]
  ```

  + 字符串替换——变量名.replace(原始字符串，替换后的字符串)

  ```python
  str_new=my_str.replace(' ','|')
  ```

  + 字符串分割——变量名.split(分割符，……)——原始字符串无修改影响

  ```python
  str_new=my_str.split(' ')
  for word in str_new:
      print(word)
  ```
  
  + 字符串全小写——变量名.lower()
  
  ```python
  str_new=my_str.lower()
  ```
  
  + 字符串全大写——变量名.upper()
  
  ```python
  str_new=my_str.upper()
  ```
  
  + 各个字符串首字母大写——变量名.title()
  
  + 字符串规整——==以第一个选项为准==
  
    + 变量名.strip()——删除字符串左、右两边的空格
  
    + 变量名.lstrip()-——删除字符串左边空格
  
    + 变量名.rstrip()——删除字符串右边空格
  
    + 变量名.strip(“”)——删除字符串左、右两边的某元素[^4]
  
    + 变量名.lstrip(“”)——删除字符串左边某元素
  
    + 变量名.rstrip(“”)——删除字符串右边某元素
  
    	[^4]:当需删除的元素为多个时，删除的处理流程是一个一个处理，非整体看作一个子字符串处理
  
  + 字符串某元素或某子字符串个数统计——变量名.count()
  
  + 字符串整体长度——变量名.len()

##### （2）列表（list）——支持嵌套，支持下标索引，支持不同类型数据，支持重复元素，有序排列，长度不限，可修改

+ 定义
	+ 非空列表
		+ 变量名=[……，……]
	+ 空列表
		+ 变量名=[]
		+ 变量名=list（）

==以[]为标识，以”，“分隔==

+ 相关方法
	+ 下标索引==(不可越界访问）==——变量名.index()
	+ 取用某下标表示的值——变量名[]
	+ 修改特定下标的值——变量名[]=赋值
	+ 插入元素——变量名.insert（下标值，插入元素值）
	+ 追加单个元素至==尾部==——变量名.append（追加的元素）
	+ 追加多个元素（数据容器）至==尾部==——变量名.extend(其他数据容器)
	+ 删除元素
		+ del变量名[下标值]——直接删除
		+ 变量名.pop（）——取出该元素后删除——==随机==
		+ 变量名.remove（元素）——删除列表中该元素的==第一个匹配项（由前至后）==
	+ 清空列表——变量名.clear()
	+ 统计某元素个数——变量名.count()
	+ 列表1+列表2+……
	+ 反向元素——变量名.reverse()
	+ 元素排序——变量名.sort()
	+ 列表复制——变量名.copy()
	+ 统计列表长度——len(变量名)
	+ 嵌套——下标写法：变量名[][][][][][][]……——[]表示一个层级

##### （3）字典（dict）——支持嵌套，支持不同类型数据，不支持重复数据，无序排列，长度不限，支持修改

+ 定义
	+ 非空字典
		+ 变量名=（key1：dict1……）
	+ 空字典
		+ 变量名=（）
		+ 变量名=dict（）

==以{}为标识，以”，“分隔，以key获取value的信息==

+ 相关方法
	+ 新增元素——变量名[key]=value——key与value都是新增的值
	+ 更新（修改）元素——变量名[key]=value——key为已存在的值，value是修改的值
	+ 删除元素——变量名.pop()
	+ 清除字典——变量名.clear()
	+ 获得全部的key值——变量名.keys()
	+ 获得全部的value值——循环+变量名[key]

##### （4）元组(tuple)——支持嵌套，支持下标索引，支持不同类型数据，支持重复数据，有序排列，长度不限，不支持修改（但如果元素为列表等支持修改的数据容器，则支持对该数据容器进行修改）

+ 定义
	+ 非空元组
		+ 变量名=（……，……）
	+ 空元组
		+ 变量名=（）
		+ 变量名=tuple（）

==以（）为标识，以”，“分隔，当元组中仅有一个元素时，**仍旧要在元素后加”，“**==

+ 相关方法
	+ 下标索引==（不可越界访问）==——变量名.index()
	+ 取用某下标表示的值——变量名[]
	+ 清空列表——变量名.clear()
	+ 统计某元素个数——变量名.count()
	+ 统计列表长度——len(变量名)
	+ 可将列表转化为元组——tuple（list）
	+ 嵌套——下标写法：变量名[][][][][][][]……——[]表示一个层级

##### （5）集合（set)——支持嵌套，不支持下标索引，支持不同类型数据，不支持重复数据（去重性），无序排列，长度不限，支持修改

+ 定义
	+ 非空集合
		+ 变量名={……，……}
	+ 空集合
		+ 变量名=set（）

==以{}为标识，以”，“分隔,空集合只能由set（）表示==

+ 相关方法
	+ 添加新元素——变量名.add(添加的元素)
	+ 移除元素——变量名.remove(移除的元素)
	+ 取出某元素并删除——变量名.pop(）
	+ 清空集合——变量名.clear（）
	+ 取出集合1中存在，但集合2不存在的元素，组成一个新的集合——集合1.difference（集合2）
	+ 将两个集合都存在的元素都储存在集合1中——集合1.diference_update(集合2)
	+ 将集合1跟集合2合并成一个集合，得到一个新集合——集合1.union(集合2)
	+ 统计集合长度——len（变量名）

##### （6）切片——分割子列==（仅限于有序序列）==

语法：序列[x:y:step]

+ x——切割起始下标（位置）
+ y——切割中止下标（位置），==不包含自身==
+ step——切割步长，默认为1，==正、负步长与正、反向有关==

```python
string='I love Python , and I enjoy learning it'
list=[1,2,3,6,7,9,'wen','xin']
tuple=('wen','xin','xin',1,22,32,54)
print(string[2:7:2])
print(list[2:7:2])
print(tuple[0:3])
print(string[-2:-4:-1])
print(list[-1:-4:-2])
print(tuple[-1:-3:-1]
```

### 六、类型判断语句

type（）

```python
num=10
my_float=40.8
my_bool=True
my_complex=8+5j
print(type(num),type(my_float),type(my_bool),type(my_complex))
varchar='wenxinixn'
my_dict={1:'I',2:'you','wen':67}
my_set={'I','love','Python'}
string='I love Python , and I enjoy learning it'
list=[1,2,3,6,7,9,'wen','xin']
tuple=('wen','xin','xin',1,22,32,54)
print(type(varchar))
print(type(my_dict))
print(type(my_set))
print(type(string))
print(type(list))
print(type(tuple))
```

### 七、 条件控制及循环控制——支持嵌套使用，靠缩进划分控制范围（层级）

+ ##### 条件控制

  + if 语句

  	+ 语法：if 判断条件：

  	​                       满足条件执行的操作

  + if—else语句

  	+ 语法：if 判断条件：

  	​                       满足条件执行的操作

  	​                   else：

  	​                        不满足条件执行的操作

  + if—elif—else语句

  	+ 语法：if 判断条件：

  	​                       满足条件执行的操作

  	​                   elif 其他判断语句：
  	​                       满足条件执行的操作

  	​                   ……

  	​                   else：

  	​                        不满足执行的操作

  ==多条件是互斥的，且按顺序匹配，当上一个条件满足时，不再匹配下一个条件==

  ```python
  my_num=int(input())
  if my_num>0：
      print(my_num)
  else:
      print(my_num+100)
  my_num_new=int(input())
  if my_num_new>0：
      print(my_num_new)
  elif my_num_new<0：
      print(my_num_new+100)
  else:
      print('exit')
  ```

  + match—case语句

  	+ 语法：match 判断对象：

  		​                case  特定的条件：

  		​                       执行操作

  		​                 ……

  		​                 case  _:

  		​                         执行操作
  		
  		```python
  		match my_num_new:
  		    case 1:
  		        print('Yes')
  		    case 0:
  		        print('No')
  		    case _:
  		        print('quit')
  		```

+ ##### 循环控制

	+ while语句

		+ 语法：while 判断条件：

		​                       满足条件执行的操作

		​                        ……

	+ while—else语句

	  + 语法：while 判断条件：

	  ​                       满足条件执行的操作

	  ​                    else：
	  ​                        不满足条件（循环结束后）执行的操作

	  ```python
	  while my_num_new<0:
	      my_num_new+=1
	  else :
	      my_num_new-=1
	  print(my_num_new)
	  ```

	+ for语句

		+ 语法：for 临时变量 in 数据容器：

		​                       满足条件执行的操作

	+ for—else语句

		+ 语法：for 临时变量 in 数据容器：

		​                       满足条件执行的操作

		​                   else：

		​                        不满足条件（循环结束后）执行的操作

	+ for与range（x，y，z）语句

	  x——序列起始数字

	  y——序列终止数字,==不包含自身==

	  z——步长，==默认为1==
	
	  语句：for 临时变量 in range（x,y,z)：
	
	  ​                       满足条件执行的操作
	
	  ```python
	  for line in list:
	      print（line）
	  else:
	      print('成功')
	  for i in range(2,15,3):
	      print(i)
	  ```
	
	+ continue与break
	
		+ break——立即退出该循环
		+ continue——退出这一次循环，进行下一次循环
	
	```python
	j=100
	my_num_new=int(input())
	while j>0:
	    while my_num_new>0：
	        print(my_num_new)
	        continue 
	        print('退出')
	    if j==23:
	        print('退出')
	        break
	    print(j)
	    j-=1
	```

### 八、推导式

从一个数据序列构建另一个数据序列的结构体

变量=[表达式/函数   for   变量   in   数据容器    [if  判断条件] ]

适用：列表、元组、集合

字典的推导式：变量={key：表达式/函数（value） for  value  in   数据容器  [if 判断语句]}

（当满足if的判断条件，）数据容器中的数据一个一个执行表达式/函数

```python
my_list=[1,2,3,4,5,6,8,87,5,42,3,21,12,1]
my_list_new=[number for number in my_list  if number>10]
print(my_list_new)
```

```python
my_dict={1:'wen',2:'xin',3:'xin'}
my_dict_new={key-=1 for key in my_dict if key>0}
print(my_dict_new)
```

### 九、函数

已组织好的、可以重复利用的、实现特定功能的模块

+ 定义

	+ 有名称的函数

		+ 定义：def  函数名（传入参数）：

		​                                     函数体

		​                                 return   返回值

	+ 无名称的函数

		+ 定义：
			+ 变量名=lambda  传入的参数（多参数以，分隔）：函数体
				+ 匿名函数，只能使用一次，且必须是一行式

+ 调用

	+ ​	函数名（参数）

+ 函数说明文档

	+ 格式：函数说明：

	：param x:——对参数x进行说明

	：return：——对返回值进行说明

+ 函数嵌套

+ 函数传参

	+ 位置传参——按照函数定义的参数位置进行传参
	+ 关键字传参——定义确定关键字，调用使用键-值式传参
		+ 关键字传参可以与位置传参，但是位置传参必须在关键字传参前，且按照定义的参数位置，而关键字传参可不按顺序传入
	+ 缺省参数（默认参数）——当函数调用对默认值无传参时，该函数默认使用该参数，如果修改默认值，则函数使用该更新后的值，且所有的位置参数必须出现在缺省参数前
	+ 不定长参数（可变参数）
		+ 位置参数——*args（元组）——传入的参数按一定的顺序排列，构建一个元组
		+ 关键字传递——**Kwargs（字典）——传入的参数按键-值的方式构建一个字典
	+ 函数名做参数

+ 函数返回值——支持不同类型的数据

	+ 单个返回值
		+ 用单个变量接受
	+ 多个返回值
		+ 多个变量按顺序依次接收，变量之间以“，”分隔
		+ 返回值之间以“，”分隔
	+ None类型返回值
		+ 定义：None是空的，毫无实际意义的意思
		+ None可以主动使用return返回，可以不写return
		+ 适用
			+ 函数无返回值
			+ if判断逻辑是否真假
			+ 用于声明暂时不应用的变量（可以理解为初始化变量）

### 十、注释——方便Pycharm记住某变量等的类型或解释某一程序过程

+ #——单行注释
+ ”“”       “”“——多行注释
+ 变量类型注释
	+ 基础数字类型注释‘
		+ 变量：类型注释（=赋值）
	+ 基础容器类型注释
		+ 容器变量：类型注释（=赋值）
			+ 特例：字典——key注释：value注释
		+ 容器变量：类型注释[元素类型注释]（=赋值）
			+ 元组类型必须对每一个元素进行类型注释，字典类型对key、value都要进行一一注释
	+ 利用注释进行类型注释
		+ #type：类型
+ 函数参数与返回值注释
	+ def  函数名（形参：类型……）—>返回值类型：
+ 函数解释
	+ 函数说明文档
+ 类解释
	+ class  类名称：——stu（类对象）：类说明=Student()
+ Union联合类型
	+ 格式：Union[类型……]
	+ Union使用
		+ 导出Union模块——from typing import Union
		+ Union进行注释

### 十一、bug与异常捕获

bug（异常）——代码书写过程中由于语法错误等原因导致程序无法执行

异常捕获——对可能存在的bug做好提前捕捉的准备，并且在bug出现后设置好补救措施

异常特点——传递性（根据嵌套顺序进行传递，可以在最终的嵌套代码模块内设置异常捕获）

+ 全部类型异常捕获：

	+ try：

	​              可能发生的bug

	​       except：

	​               补救措施

	+ try：
		         可能发生的bug

		 except  Exception as e：

		​               补救措施

		+ e中存储异常信息

+ 单个类型异常捕获：

	+ try：
		         可能发生的bug

		 except  异常类型  as e：

		​               补救措施

+ 多个类型异常捕获：

	+ try：
		         可能发生的bug

		 except  （异常类型1，异常类型2……） as e：

		​               补救措施

		+ 异常类型组成一个元组形式

+ 异常-else语句：

	+ 在补救措施后面加上，表示如果没有bug，则执行某一操作

	+ else：

		​          执行……

+ 异常-finally操作：

	+ 无论有无bug，最后都必须执行，处于异常捕获代码最后的位置

	+ finally：

		​          执行……

	

### 十二、类与对象

路径：分析需求（属性与行为）——>设计类——>创建类对象——>对类对象赋值

+ 类的定义与类对象的创建
	+ class   类名称：

​              类属性（成员变量）

​               类行为（成员方法）（函数）

+  成员方法的定义
	+ def 方法名（self，……）：——self表示类自身，定义必须写的参数，传参不需要，且在类中调用自身变量必须使用self.类属性

​                     方法体

+ 封装——将现实事物在类中描述为属性和方法

	+ 公开

		+ 方法类
			+ 构造方法   ____init____()
				+ 实现功能：
					+ 创建类对象时会自动执行
					+ 传入的参数可供该方法使用，初始化类对象
			+ 字符串方法 ____str____()
				+ 实现功能：
					+ 将类属性转化为字符串的形式输出
			+ 小于或大于比较方法 ____lt____()
			+ 小于等于或大于等于比较方法 ____le____()
			+ 等于比较方法 ____eq____()
				+ 两个类对象无法直接进行大小比较
				+ 这些比较方法的返回值都是bool类型

	+ 私有成员

		+ 定义

			+ 私有成员变量：以两个下划线开头
			+ 私有成员方法：方法名以两个下划线开头

		+ 特点

			+ 私有成员变量无法赋值，无法获取值

			+ 私有方法无法被类对象使用，但可以被类中的其他成员使用

				

				十三、文件操作（文件编码——UTF-8）

  路径：打开文件——>操作文件——>关闭文件

+ 打开文件

	+ f=open（目标文件路径，打开模式，编码方式（关键字参数）
		+ f——open函数的对象
		+ mode
			+ r——read只读模式——类似指针（读到哪里，指到哪里）
			+ w——write写入模式
				+ 文件存在——清空内容，再写入
				+ 文件不存在——创建新文件，写入内容
			+ a——add追加模式
				+ 文件存在——追加内容至尾部
				+ 文件不存在——创建新文件，写入内容

+ 文件操作

	+ 读操作

		+ read（）

			+ 文件对象.read（num）
				+ num——读取文件的长度（按字节）

		+ readlines（）

			+ 文件对象.readlines（）
				+ 文件对象.readlines（）
					+ 将每行的内容作为元素储存为列表，其中“\n”也会被读出

		+ readline（）

			+ 文件对象.readline（ num）
				+ num——行数
				+ 读取单行

		+ for循环读取文件

			+ for line in open（……）：

				​       print(line)

	+ 写操作

		+ write（）
			+ 文件对象.write（写入内容）
			+ 缓冲区
		+ flush（）
			+ 文件对象.flush()
			+ 将写入的内容存储硬盘中——建议一次性

+ 关闭文件‘

	+ 文件对象.close()——内置flush功能

	+ with open （……）as 文件对象：

		​                文件操作

		+ 既包含打开文件操作，也包含自动关闭文件操作

### 十四、Python模块及Python包

可以使用”.”进行分级

Python模块：一个Python文件，以.py结尾，模块能定义函数、类和变量，也可以包含可执行的代码

+ 导入方式
	+ [from  模块名] import [模块|类|变量|函数|*]  [as 别名]
		+  import 模块名1、模块名2……
			+ 模块名.功能名（）/模块名.变量……
		+ from 模块名 import 类、变量……/*
			+ 类、变量、方法调用
		+ as定义模块或功能别名
			+ import 模块名 as 别名
			+ from 模块名 import 功能 as 别名
	
+ 自定义模块
	+ 当不同的模块中存在同一名称的功能代码时，后一个代码内容会覆盖前面的
	
+ 测试模块中的代码——调用模块时不执行

  + 在相应模块中设置

    + ```python
      if __name__=='__main__':
          测试的代码
      ```

+ ____all____变量
	+ 在模块中设置，将需要的功能组成一个列表并赋值给____all____变量，当模块所有功能被调用时，相当于调用____all____变量内的所有功能

Python包：一个包含____init____.py文件的文件夹（包含多个模块，相当于大模块）

+ 导入等可参考Python模块，用“.”作为层级引出